<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç—ã - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–µ–∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f8f9fa;
            padding: 20px;
        }

        .editor-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .editor-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .editor-header h1 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .editor-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .map-editor {
            position: relative;
            width: 100%;
            height: 600px;
            background: #f0f0f0;
            border: 2px dashed #ccc;
            border-radius: 10px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .map-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            cursor: crosshair;
        }

        .draggable-point {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #e74c3c;
            border: 3px solid white;
            border-radius: 50%;
            cursor: move;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .draggable-point:hover {
            transform: scale(1.2);
        }

        .point-label {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 5px;
            font-size: 0.8rem;
            white-space: nowrap;
            pointer-events: none;
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .control-panel {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
        }

        .control-panel h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .point-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .point-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            background: white;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .point-info {
            flex: 1;
        }

        .point-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.2rem;
        }

        .point-coords {
            font-size: 0.9rem;
            color: #666;
        }

        .point-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
        }

        .coords-display {
            background: #e8f4fd;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .coords-display h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .coords-input {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .coords-input input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .instructions h3 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        .instructions ul {
            color: #856404;
            padding-left: 1.5rem;
        }

        .instructions li {
            margin-bottom: 0.3rem;
        }

        .export-section {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 2rem;
        }

        .export-section h3 {
            color: #155724;
            margin-bottom: 1rem;
        }

        .export-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .code-output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="editor-header">
            <h1>üó∫Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç—ã –ø–ª–∞—Ç–æ –ü—É—Ç–æ—Ä–∞–Ω–∞</h1>
            <p>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </div>

        <div class="instructions">
            <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:</h3>
            <ul>
                <li><strong>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ç–æ—á–∫—É –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ</li>
                <li><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏</li>
                <li><strong>–í—ã–±–æ—Ä —Ç–æ—á–∫–∏:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç–æ—á–∫—É –≤ —Å–ø–∏—Å–∫–µ, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å –µ—ë</li>
                <li><strong>–£–¥–∞–ª–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–£–¥–∞–ª–∏—Ç—å" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ—á–∫–∏</li>
                <li><strong>–≠–∫—Å–ø–æ—Ä—Ç:</strong> –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª map.html</li>
            </ul>
        </div>

        <div class="map-editor" id="mapEditor">
            <img src="Google Maps –∏ –µ—â–µ 11 —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî –õ–∏—á–Ω—ã–π_ Microsoft‚Äã Edge 18.10.2025 15_39_54.png" alt="–ö–∞—Ä—Ç–∞ –ø–ª–∞—Ç–æ –ü—É—Ç–æ—Ä–∞–Ω–∞" class="map-image" id="mapImage">
        </div>

        <div class="controls">
            <div class="control-panel">
                <h3>üìç –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫</h3>
                <div class="point-list" id="pointList">
                    <!-- –¢–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <div class="control-panel">
                <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <div class="coords-display">
                    <h4>–í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞:</h4>
                    <div id="selectedPointInfo">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
                </div>

                <div class="coords-input">
                    <input type="number" id="topInput" placeholder="Top (%)" min="0" max="100" step="0.1">
                    <input type="number" id="leftInput" placeholder="Left (%)" min="0" max="100" step="0.1">
                    <button class="btn btn-primary" onclick="updateSelectedPoint()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>

                <button class="btn btn-success" onclick="addNewPoint()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É</button>
            </div>
        </div>

        <div class="export-section">
            <h3>üì§ –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–¥–∞</h3>
            <div class="export-buttons">
                <button class="btn btn-primary" onclick="generateCode()">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                <button class="btn btn-success" onclick="copyCode()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
            </div>
            <div class="code-output" id="codeOutput">
                –ö–æ–¥ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–µ–∫...
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Ç–æ—á–µ–∫
        let points = [
            { id: 1, name: '–ù–æ—Ä–∏–ª—å—Å–∫', top: 15, left: 25, color: '#e74c3c', description: '–ö—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–æ–¥ –ê—Ä–∫—Ç–∏–∫–∏' },
            { id: 2, name: '–î—É–¥–∏–Ω–∫–∞', top: 35, left: 30, color: '#e74c3c', description: '–°—Ç–æ–ª–∏—Ü–∞ –¢–∞–π–º—ã—Ä–∞' },
            { id: 3, name: '–°–Ω–µ–∂–Ω–æ–≥–æ—Ä—Å–∫', top: 55, left: 40, color: '#e74c3c', description: '–ì–æ—Ä–æ–¥ –Ω–∞ –∑–∞–ø–∞–¥–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü–µ –ø–ª–∞—Ç–æ' },
            { id: 4, name: '–ü—É—Ç–æ—Ä–∞–Ω—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫', top: 60, left: 75, color: '#8e44ad', description: '–û–±—ä–µ–∫—Ç –Æ–ù–ï–°–ö–û' },
            { id: 5, name: '–û–∑–µ—Ä–æ –õ–∞–º–∞', top: 50, left: 70, color: '#3498db', description: '–ö—Ä—É–ø–Ω–µ–π—à–µ–µ –æ–∑–µ—Ä–æ –ø–ª–∞—Ç–æ' },
            { id: 6, name: '–û–∑–µ—Ä–æ –í–∏–≤–∏', top: 45, left: 65, color: '#9b59b6', description: '–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –†–æ—Å—Å–∏–∏' },
            { id: 7, name: '–û–∑–µ—Ä–æ –•–∞–Ω—Ç–∞–π—Å–∫–æ–µ', top: 40, left: 80, color: '#3498db', description: '–°–∞–º–æ–µ –≥–ª—É–±–æ–∫–æ–µ –æ–∑–µ—Ä–æ' },
            { id: 8, name: '–¢–∞–ª—å–Ω–∏–∫–æ–≤—ã–π –≤–æ–¥–æ–ø–∞–¥', top: 35, left: 75, color: '#f39c12', description: '–°–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –≤–æ–¥–æ–ø–∞–¥ –†–æ—Å—Å–∏–∏' },
            { id: 9, name: '–ö—É—Ä–µ–π—Å–∫–∏–π –≤–æ–¥–æ–ø–∞–¥', top: 30, left: 70, color: '#f39c12', description: '–°–∞–º—ã–π –º–æ—â–Ω—ã–π –≤–æ–¥–æ–ø–∞–¥ –†–æ—Å—Å–∏–∏' },
            { id: 10, name: '–û–∑–µ—Ä–æ –ë–µ–ª—å–¥—É–Ω—á–∞–Ω–∞', top: 65, left: 60, color: '#3498db', description: '–ü–æ–ª—é—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏' },
            { id: 11, name: '–®–∞–π—Ç–∞–Ω-–≥–æ—Ä–∞', top: 55, left: 80, color: '#27ae60', description: '–ó–∞–≥–∞–¥–æ—á–Ω–∞—è –≥–æ—Ä–∞' }
        ];

        let selectedPointId = null;
        let pointCounter = 12;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            renderPoints();
            updatePointList();
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ
        function renderPoints() {
            const mapEditor = document.getElementById('mapEditor');
            
            // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ—á–∫–∏
            const existingPoints = mapEditor.querySelectorAll('.draggable-point');
            existingPoints.forEach(point => point.remove());

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ç–æ—á–∫–∏
            points.forEach(point => {
                const pointElement = document.createElement('div');
                pointElement.className = 'draggable-point';
                pointElement.style.top = point.top + '%';
                pointElement.style.left = point.left + '%';
                pointElement.style.background = point.color;
                pointElement.dataset.pointId = point.id;

                const label = document.createElement('div');
                label.className = 'point-label';
                label.textContent = point.name;
                pointElement.appendChild(label);

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                pointElement.addEventListener('mousedown', startDrag);
                pointElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    selectPoint(point.id);
                });

                mapEditor.appendChild(pointElement);
            });
        }

        // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫
        let isDragging = false;
        let dragPoint = null;
        let dragOffset = { x: 0, y: 0 };

        function startDrag(e) {
            isDragging = true;
            dragPoint = e.target;
            const rect = document.getElementById('mapEditor').getBoundingClientRect();
            const pointRect = dragPoint.getBoundingClientRect();
            
            dragOffset.x = e.clientX - pointRect.left;
            dragOffset.y = e.clientY - pointRect.top;
            
            dragPoint.style.zIndex = '1000';
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            e.preventDefault();
        }

        function drag(e) {
            if (!isDragging || !dragPoint) return;
            
            const mapEditor = document.getElementById('mapEditor');
            const rect = mapEditor.getBoundingClientRect();
            
            const x = e.clientX - rect.left - dragOffset.x;
            const y = e.clientY - rect.top - dragOffset.y;
            
            const leftPercent = Math.max(0, Math.min(100, (x / rect.width) * 100));
            const topPercent = Math.max(0, Math.min(100, (y / rect.height) * 100));
            
            dragPoint.style.left = leftPercent + '%';
            dragPoint.style.top = topPercent + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
            const pointId = parseInt(dragPoint.dataset.pointId);
            const point = points.find(p => p.id === pointId);
            if (point) {
                point.left = leftPercent;
                point.top = topPercent;
                updatePointList();
            }
        }

        function stopDrag() {
            isDragging = false;
            if (dragPoint) {
                dragPoint.style.zIndex = '10';
                dragPoint = null;
            }
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }

        // –í—ã–±–æ—Ä —Ç–æ—á–∫–∏
        function selectPoint(pointId) {
            selectedPointId = pointId;
            const point = points.find(p => p.id === pointId);
            if (point) {
                document.getElementById('selectedPointInfo').innerHTML = `
                    <strong>${point.name}</strong><br>
                    Top: ${point.top.toFixed(1)}%, Left: ${point.left.toFixed(1)}%
                `;
                document.getElementById('topInput').value = point.top;
                document.getElementById('leftInput').value = point.left;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏
        function updateSelectedPoint() {
            if (!selectedPointId) return;
            
            const top = parseFloat(document.getElementById('topInput').value);
            const left = parseFloat(document.getElementById('leftInput').value);
            
            if (isNaN(top) || isNaN(left)) return;
            
            const point = points.find(p => p.id === selectedPointId);
            if (point) {
                point.top = Math.max(0, Math.min(100, top));
                point.left = Math.max(0, Math.min(100, left));
                renderPoints();
                updatePointList();
                selectPoint(selectedPointId);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ—á–µ–∫
        function updatePointList() {
            const pointList = document.getElementById('pointList');
            pointList.innerHTML = '';
            
            points.forEach(point => {
                const item = document.createElement('div');
                item.className = 'point-item';
                item.innerHTML = `
                    <div class="point-info">
                        <div class="point-name">${point.name}</div>
                        <div class="point-coords">Top: ${point.top.toFixed(1)}%, Left: ${point.left.toFixed(1)}%</div>
                    </div>
                    <div class="point-actions">
                        <button class="btn btn-primary" onclick="selectPoint(${point.id})">–í—ã–±—Ä–∞—Ç—å</button>
                        <button class="btn btn-danger" onclick="removePoint(${point.id})">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                pointList.appendChild(item);
            });
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏
        function removePoint(pointId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Ç–æ—á–∫—É?')) {
                points = points.filter(p => p.id !== pointId);
                renderPoints();
                updatePointList();
                if (selectedPointId === pointId) {
                    selectedPointId = null;
                    document.getElementById('selectedPointInfo').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è';
                }
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–æ—á–∫–∏
        function addNewPoint() {
            const name = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏:');
            if (name) {
                const newPoint = {
                    id: pointCounter++,
                    name: name,
                    top: 50,
                    left: 50,
                    color: '#e74c3c',
                    description: '–ù–æ–≤–∞—è —Ç–æ—á–∫–∞'
                };
                points.push(newPoint);
                renderPoints();
                updatePointList();
                selectPoint(newPoint.id);
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
        function generateCode() {
            let code = '';
            
            points.forEach(point => {
                code += `            <!-- ${point.name} -->\n`;
                code += `            <div class="map-point" style="top: ${point.top}%; left: ${point.left}%;" \n`;
                code += `                 data-title="${point.name}" \n`;
                code += `                 data-description="${point.description}">\n`;
                code += `                <div class="point-marker" style="background: ${point.color};"></div>\n`;
                code += `                <div class="point-tooltip">${point.name}</div>\n`;
                code += `            </div>\n\n`;
            });
            
            document.getElementById('codeOutput').textContent = code;
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
        function copyCode() {
            const codeOutput = document.getElementById('codeOutput');
            codeOutput.select();
            document.execCommand('copy');
            alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
